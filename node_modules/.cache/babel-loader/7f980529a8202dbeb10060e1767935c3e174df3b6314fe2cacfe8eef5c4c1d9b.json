{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jose_\\\\Desktop\\\\Corso pc\\\\Corso\\\\Pratica\\\\Progetto Finale\\\\frontend\\\\src\\\\components\\\\UserMenu.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserMenu = ({\n  avatarLetter,\n  menuOpen,\n  setMenuOpen,\n  user,\n  handleLogout,\n  id,\n  ariaLabel\n}) => {\n  _s();\n  const menuRef = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        setMenuOpen(false);\n      }\n    };\n    if (menuOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [menuOpen, setMenuOpen]);\n  const renderAvatar = () => {\n    if (user !== null && user !== void 0 && user.profilePic) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5000${user.profilePic}?t=${Date.now()}`,\n        alt: \"Profilo\",\n        style: {\n          width: '40px',\n          height: '40px',\n          borderRadius: '50%',\n          objectFit: 'cover',\n          border: '2px solid #000'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this);\n    } else if (avatarLetter) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border border-dark d-flex justify-content-center align-items-center\",\n        style: {\n          width: '40px',\n          height: '40px',\n          borderRadius: '50%',\n          backgroundColor: '#fff',\n          color: '#000',\n          fontWeight: 'bold',\n          fontSize: '1.2rem'\n        },\n        children: avatarLetter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/icone/User Icona.png\",\n        alt: \"Icona utente\",\n        style: {\n          width: '40px',\n          height: '40px',\n          borderRadius: '50%',\n          objectFit: 'cover'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"position-relative\",\n    id: id,\n    ref: menuRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setMenuOpen(prev => !prev),\n      style: {\n        cursor: 'pointer'\n      },\n      role: \"button\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": menuOpen,\n      \"aria-label\": ariaLabel,\n      children: renderAvatar()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), menuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-absolute end-0 mt-2 bg-white border rounded shadow-sm\",\n      style: {\n        zIndex: 1000\n      },\n      role: \"menu\",\n      \"aria-label\": `${ariaLabel} contenuto`,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-unstyled m-0 p-2 text-dark\",\n        children: !user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              className: \"dropdown-item\",\n              role: \"menuitem\",\n              children: \"\\uD83D\\uDD11 Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/register\",\n              className: \"dropdown-item\",\n              role: \"menuitem\",\n              children: \"\\uD83D\\uDCDD Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/orders\",\n              className: \"dropdown-item\",\n              role: \"menuitem\",\n              children: \"\\uD83D\\uDCE6 Ordini\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"dropdown-item\",\n              onClick: () => {\n                setMenuOpen(false);\n                navigate('/config');\n              },\n              role: \"menuitem\",\n              children: \"\\u2699\\uFE0F Configurazione\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"dropdown-item text-danger\",\n              role: \"menuitem\",\n              children: \"\\uD83D\\uDEAA Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(UserMenu, \"72EXxqn7wDW9TjOPD4N19z4kLpk=\", false, function () {\n  return [useNavigate];\n});\n_c = UserMenu;\nexport default UserMenu;\nvar _c;\n$RefreshReg$(_c, \"UserMenu\");","map":{"version":3,"names":["useEffect","useRef","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","UserMenu","avatarLetter","menuOpen","setMenuOpen","user","handleLogout","id","ariaLabel","_s","menuRef","navigate","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","renderAvatar","profilePic","src","Date","now","alt","style","width","height","borderRadius","objectFit","border","fileName","_jsxFileName","lineNumber","columnNumber","className","backgroundColor","color","fontWeight","fontSize","children","ref","onClick","prev","cursor","role","zIndex","to","_c","$RefreshReg$"],"sources":["C:/Users/jose_/Desktop/Corso pc/Corso/Pratica/Progetto Finale/frontend/src/components/UserMenu.jsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst UserMenu = ({ avatarLetter, menuOpen, setMenuOpen, user, handleLogout, id, ariaLabel }) => {\r\n  const menuRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n        setMenuOpen(false);\r\n      }\r\n    };\r\n\r\n    if (menuOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [menuOpen, setMenuOpen]);\r\n\r\n  const renderAvatar = () => {\r\n    if (user?.profilePic) {\r\n      return (\r\n        <img\r\n          src={`http://localhost:5000${user.profilePic}?t=${Date.now()}`}\r\n          alt=\"Profilo\"\r\n          style={{\r\n            width: '40px',\r\n            height: '40px',\r\n            borderRadius: '50%',\r\n            objectFit: 'cover',\r\n            border: '2px solid #000'\r\n          }}\r\n        />\r\n      );\r\n    } else if (avatarLetter) {\r\n      return (\r\n        <div\r\n          className=\"border border-dark d-flex justify-content-center align-items-center\"\r\n          style={{\r\n            width: '40px',\r\n            height: '40px',\r\n            borderRadius: '50%',\r\n            backgroundColor: '#fff',\r\n            color: '#000',\r\n            fontWeight: 'bold',\r\n            fontSize: '1.2rem'\r\n          }}\r\n        >\r\n          {avatarLetter}\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <img\r\n          src=\"/icone/User Icona.png\"\r\n          alt=\"Icona utente\"\r\n          style={{\r\n            width: '40px',\r\n            height: '40px',\r\n            borderRadius: '50%',\r\n            objectFit: 'cover'\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"position-relative\" id={id} ref={menuRef}>\r\n      <div\r\n        onClick={() => setMenuOpen(prev => !prev)}\r\n        style={{ cursor: 'pointer' }}\r\n        role=\"button\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded={menuOpen}\r\n        aria-label={ariaLabel}\r\n      >\r\n        {renderAvatar()}\r\n      </div>\r\n\r\n      {menuOpen && (\r\n        <div\r\n          className=\"position-absolute end-0 mt-2 bg-white border rounded shadow-sm\"\r\n          style={{ zIndex: 1000 }}\r\n          role=\"menu\"\r\n          aria-label={`${ariaLabel} contenuto`}\r\n        >\r\n          <ul className=\"list-unstyled m-0 p-2 text-dark\">\r\n            {!user ? (\r\n              <>\r\n                <li><Link to=\"/login\" className=\"dropdown-item\" role=\"menuitem\">🔑 Login</Link></li>\r\n                <li><Link to=\"/register\" className=\"dropdown-item\" role=\"menuitem\">📝 Register</Link></li>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <li><Link to=\"/orders\" className=\"dropdown-item\" role=\"menuitem\">📦 Ordini</Link></li>\r\n                <li>\r\n                  <button\r\n                    className=\"dropdown-item\"\r\n                    onClick={() => {\r\n                      setMenuOpen(false);\r\n                      navigate('/config');\r\n                    }}\r\n                    role=\"menuitem\"\r\n                  >\r\n                    ⚙️ Configurazione\r\n                  </button>\r\n                </li>\r\n                <li>\r\n                  <button onClick={handleLogout} className=\"dropdown-item text-danger\" role=\"menuitem\">\r\n                    🚪 Logout\r\n                  </button>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMenu;\r\n\r\n\r\n\r\n\r\n\r\n  \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}